(function(t){function e(e){for(var n,r,o=e[0],h=e[1],c=e[2],u=0,f=[];u<o.length;u++)r=o[u],i[r]&&f.push(i[r][0]),i[r]=0;for(n in h)Object.prototype.hasOwnProperty.call(h,n)&&(t[n]=h[n]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var h=a[o];0!==i[h]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/frontend/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],h=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=h;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),i=a.n(n);i.a},"1dfc":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("img",{attrs:{alt:"Vue logo",src:t.imgUrl}}),a("music",{attrs:{msg:"Welcome to Your Vue.js App"},on:{postImg:t.changeImage}})],1)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"music",staticClass:"music"},[a("transition-group",{staticClass:"action-state",staticStyle:{"font-size":".8rem"},attrs:{name:"action-state",tag:"div",mode:"out-in"}},[a("canvas",{directives:[{name:"show",rawName:"v-show",value:t.songLoading,expression:"songLoading"}],attrs:{id:"song-load"}}),t.loading?a("div",{key:"loading",staticClass:"loading",staticStyle:{color:"green"}},[t._v("loading...")]):t._e()]),a("div",{class:["songList",t.showList?"songList-active":""]},[t._l(t.songList,function(e){return a("div",{key:e.songUrl,staticClass:"songList-item",style:{background:e._id==t.setID?"linear-gradient(180deg, #7bc199, #27663317)":""}},[a("div",{class:["song-item-row","song-primary",t.currentSong._id==e._id?"song-in-player":""]},[a("span",{class:["song-play-btn",t.currentSong._id==e._id&&t.resume?"onplay":"pause"],on:{click:function(a){return t.handlePlay(e)}}},[a("svg",{staticClass:"play-svg",attrs:{t:"1570094903377",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"22628",width:"200",height:"200"}},[a("path",{staticClass:"pause-path",attrs:{d:"M513.024 61.44q93.184 0 175.104 35.328t142.848 96.768 96.256 143.872 35.328 175.616-35.328 175.616-96.256 143.872-142.848 96.768-175.104 35.328-175.104-35.328-142.848-96.768-96.256-143.872-35.328-175.616 35.328-175.616 96.256-143.872 142.848-96.768 175.104-35.328zM690.176 556.032q10.24-10.24 15.872-26.624t5.632-33.792-6.144-33.792-18.432-25.6q-48.128-35.84-103.936-83.456t-120.32-89.6q-14.336-9.216-28.16-8.704t-25.088 8.192-17.92 22.528-6.656 35.328l0 386.048q0 23.552 8.704 36.864t22.016 17.92 28.16 2.048 26.112-11.776q25.6-19.456 53.76-44.032t56.832-50.176 56.32-51.712 53.248-49.664z",fill:"black","p-id":"22629"}}),a("path",{staticClass:"playing-path",attrs:{d:"M512.000909-0.034088C229.207833-0.034088-0.033179 229.206924-0.033179 512c0 282.827164 229.2751 512.034088 512.034088 512.034088 282.827164 0 512.034088-229.241012 512.034088-512.034088C1024.034997 229.206924 794.828073-0.034088 512.000909-0.034088z m-100.763782 714.959254c0 30.883622-20.554993 56.108655-45.677763 56.108656h-22.838881c-25.12277 0-45.677763-25.225033-45.677763-56.108656V309.074834c0-30.849534 20.554993-56.108655 45.677763-56.108656h22.838881c25.12277 0 45.677763 25.259121 45.677763 56.108656v405.850332z m315.756059 0c0 30.883622-20.589081 56.108655-45.677763 56.108656h-22.838881c-25.156858 0-45.745939-25.225033-45.745939-56.108656V309.074834c0-30.849534 20.589081-56.108655 45.745939-56.108656h22.838881c25.088682 0 45.677763 25.259121 45.677763 56.108656v405.850332z",fill:"","p-id":"12815"}})])]),a("span",{staticClass:"song-name"},[t._v(t._s(e.name))]),a("span",{staticClass:"song-set-btn",on:{click:function(a){t.setID=t.setID==e._id?"":e._id}}},[a("svg",{staticClass:"icon",attrs:{t:"1570096405983",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7917",width:"200",height:"200"}},[a("path",{attrs:{d:"M1014.44204763 510.56975763c0-277.40996943-224.89055434-502.30052378-502.35086189-502.30052378-277.40731952 0-502.30184809 224.89055434-502.30184809 502.30052378 0 277.46163316 224.89452858 502.34953758 502.30184809 502.34953759C789.55149328 1012.91929521 1014.44204763 788.03139079 1014.44204763 510.56975763zM424.71470304 219.66762747c0-48.28432019 39.15575023-87.42814643 87.42814643-87.42814642 48.21940945 0 87.37648399 39.14382753 87.37648399 87.42814642 0 48.24722778-39.15707454 87.40297801-87.37648399 87.40297801C463.86912766 307.07060419 424.71470304 267.91485525 424.71470304 219.66762747zM424.71470304 510.59625165c0-48.27239749 39.15575023-87.40297801 87.42814643-87.40297802 48.21940945 0 87.37648399 39.13058052 87.37648399 87.40297802 0 48.24722778-39.15707454 87.40297801-87.37648399 87.40297801C463.86912766 597.99790405 424.71470304 558.84347943 424.71470304 510.59625165zM424.71470304 801.4970575c0-48.21940945 39.15575023-87.376484 87.42814643-87.376484 48.21940945 0 87.37648399 39.15707453 87.37648399 87.376484 0 48.27107318-39.15707454 87.45464174-87.37648399 87.45464174C463.86912766 888.95169924 424.71470304 849.76945499 424.71470304 801.4970575z","p-id":"7918",fill:"#2c2c2c"}})])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e._id==t.setID,expression:"song._id==setID"}],staticClass:"song-item-row song-set"},[a("span",{staticClass:"songImage"},[t._v(t._s(e.songImage))]),a("button",{class:["paper-btn","song-del-btn"],attrs:{disabled:t.loading},on:{click:function(a){return t.delSong(e._id)}}},[t._v("删除")])])])}),a("div",{staticClass:"btn-close-list",on:{click:function(e){t.showList=!1}}},[a("span",[t._v(">")]),a("span",[t._v(">")]),a("span",[t._v(">")])]),a("div",{staticClass:"btn-add"},[a("button",{class:["paper-btn"]},[a("label",{attrs:{for:"local-play"}},[t._v("\n          本地播放\n          "),a("input",{attrs:{type:"file",id:"local-play"},on:{change:t.localPlay}})])]),a("button",{class:["paper-btn"],on:{click:function(e){t.showUpload=!0}}},[t._v("在线添加")])]),a("div",{class:["upload-form",t.showUpload?"upload-form-active":""]},[a("div",{staticClass:"btn-upload-close",on:{click:function(e){t.showUpload=!1}}},[t._v("X")]),a("div",{staticClass:"upload-form-controls"},[a("input",{ref:"ulDom",attrs:{type:"file",name:"musicFile"},on:{change:t.selectSong}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.songImage,expression:"songImage"}],attrs:{type:"text",placeholder:"为该歌曲添加图片地址吧"},domProps:{value:t.songImage},on:{input:function(e){e.target.composing||(t.songImage=e.target.value)}}}),a("button",{class:["paper-btn"],on:{click:t.uploadSong}},[t._v("确认上传")])])])],2),a("HandDrawPlayer",{ref:"player",attrs:{resume:t.resume,songLoading:t.songLoading,song:t.currentSong},on:{"update:resume":function(e){t.resume=e},"update:songLoading":function(e){t.songLoading=e},"update:song-loading":function(e){t.songLoading=e},"song-ended":t.autoChange},scopedSlots:t._u([{key:"listButton",fn:function(){return[a("button",{class:["btn-list",t.showList?"btn-list-active":""],on:{click:function(){return t.showList=!t.showList}}},[t._v("MyList")])]},proxy:!0}])})],1)},o=[],h=(a("7f7f"),a("20d6"),a("8e6e"),a("ac6a"),a("456d"),a("bd86")),c=a("d225"),l=a("b0b4"),u=a("bc3a"),f=a.n(u);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(a,!0).forEach(function(e){Object(h["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var v,g,y,m,b,k,M,_,w,x="api/music/",P={},O=window.localStorage.getItem("token"),S=function(){function t(){Object(c["a"])(this,t)}return Object(l["a"])(t,null,[{key:"getMusic",value:function(){return f.a.get(x,{"Content-Type":"application/json"}).then(function(t){return t.data.map(function(t){return d({},t)})})}},{key:"addMusic",value:function(t){return f.a.post(x,t,{"Content-Type":"application/json"})}},{key:"uploadMusic",value:function(t){return P["Authorization"]=O,P["Content-Type"]="multipart/form-data",f()({method:"post",url:"".concat(x,"upload"),data:t,headers:P})}},{key:"delMusic",value:function(t){return P["Authorization"]=O,f()({method:"delete",url:"".concat(x).concat(t),headers:P})}}]),t}(),j=S,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player"},[a("button",{class:["btn-play",t.resume?"btn-play-active":""],on:{click:t.startPlay}}),t._t("listButton"),a("audio",{ref:"audio",attrs:{src:t.song.songUrl},on:{timeupdate:t.onPlay,canplay:t.loadInfo,ended:t.autoChange}}),a("canvas",{attrs:{id:"canvas"}}),a("canvas",{attrs:{id:"canvas-shadow"}}),a("div",{staticClass:"songInfo"},[a("div",{staticClass:"songName"},[t._v(t._s(t.song.name))]),a("div",{staticClass:"time"},[t._v(t._s(t.currentTime)+"/"+t._s(t.duration))])]),a("div",{ref:"guideLine",staticClass:"guide-line"},[a("span",{staticClass:"guide-text"},[t._v("press it !!")]),a("svg",{staticClass:"icon",attrs:{t:"1567766620855",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1266",width:"200",height:"200"}},[a("path",{attrs:{d:"M1001.244444 830.577778c8.533333 2.844444 11.377778 11.377778 8.533334 17.066666-2.844444 8.533333-11.377778 11.377778-17.066667 8.533334-8.533333-2.844444-19.911111-5.688889-28.444444-8.533334-8.533333-2.844444-11.377778-11.377778-8.533334-17.066666 2.844444-8.533333 11.377778-11.377778 17.066667-8.533334 11.377778 5.688889 19.911111 8.533333 28.444444 8.533334z m-79.644444-25.6c8.533333 2.844444 11.377778 11.377778 8.533333 17.066666-2.844444 8.533333-11.377778 11.377778-17.066666 8.533334-8.533333-2.844444-17.066667-5.688889-25.6-11.377778-8.533333-2.844444-11.377778-11.377778-8.533334-19.911111 2.844444-8.533333 11.377778-11.377778 19.911111-8.533333 5.688889 8.533333 14.222222 11.377778 22.755556 14.222222z m-76.8-34.133334c5.688889 2.844444 8.533333 11.377778 5.688889 19.911112-2.844444 5.688889-11.377778 8.533333-19.911111 5.688888-8.533333-5.688889-17.066667-8.533333-25.6-14.222222-5.688889-2.844444-8.533333-11.377778-5.688889-19.911111 2.844444-5.688889 11.377778-8.533333 19.911111-5.688889 11.377778 5.688889 17.066667 11.377778 25.6 14.222222z m-71.111111-42.666666c5.688889 5.688889 8.533333 14.222222 2.844444 19.911111s-14.222222 8.533333-19.911111 2.844444c-8.533333-5.688889-17.066667-11.377778-22.755555-17.066666-5.688889-5.688889-8.533333-14.222222-2.844445-19.911111s14.222222-8.533333 19.911111-2.844445c8.533333 5.688889 14.222222 11.377778 22.755556 17.066667zM711.111111 676.977778c5.688889 5.688889 5.688889 14.222222 0 19.911111-5.688889 5.688889-14.222222 5.688889-19.911111 0l-19.911111-19.911111c-5.688889-5.688889-5.688889-14.222222 0-19.911111 5.688889-5.688889 14.222222-5.688889 19.911111 0l19.911111 19.911111z m-54.044444-65.422222c5.688889 5.688889 2.844444 14.222222-2.844445 19.911111-5.688889 5.688889-14.222222 2.844444-19.911111-2.844445l-17.066667-25.6c-2.844444-5.688889-2.844444-14.222222 5.688889-19.911111 5.688889-2.844444 14.222222-2.844444 19.911111 5.688889 2.844444 8.533333 8.533333 14.222222 14.222223 22.755556zM617.244444 540.444444c2.844444 8.533333 0 14.222222-8.533333 19.911112-8.533333 2.844444-14.222222 0-19.911111-8.533334-2.844444-8.533333-8.533333-19.911111-11.377778-28.444444-2.844444-8.533333 2.844444-14.222222 8.533334-17.066667 8.533333-2.844444 14.222222 2.844444 17.066666 8.533333 5.688889 8.533333 8.533333 17.066667 14.222222 25.6z m-22.755555-79.644444c0 8.533333-5.688889 14.222222-14.222222 14.222222s-14.222222-5.688889-14.222223-14.222222v-31.288889c0-8.533333 8.533333-14.222222 17.066667-11.377778 8.533333 0 14.222222 8.533333 11.377778 17.066667v25.6z m19.911111-71.111111c-5.688889 5.688889-14.222222 8.533333-19.911111 2.844444-5.688889-5.688889-8.533333-14.222222-2.844445-19.911111 8.533333-8.533333 14.222222-17.066667 25.6-22.755555 5.688889-2.844444 14.222222-2.844444 19.911112 5.688889 2.844444 5.688889 2.844444 14.222222-5.688889 19.911111-8.533333 0-14.222222 5.688889-17.066667 14.222222z m65.422222-36.977778c-8.533333 2.844444-14.222222-2.844444-17.066666-11.377778-2.844444-8.533333 2.844444-14.222222 11.377777-17.066666 11.377778-2.844444 19.911111-5.688889 31.288889-5.688889 8.533333 0 14.222222 5.688889 14.222222 14.222222s-5.688889 14.222222-14.222222 14.222222c-8.533333 2.844444-17.066667 2.844444-25.6 5.688889z m71.111111 8.533333c-5.688889-5.688889-8.533333-14.222222-2.844444-19.911111s14.222222-8.533333 19.911111-2.844444c8.533333 5.688889 17.066667 14.222222 22.755556 25.6 2.844444 5.688889 2.844444 14.222222-5.688889 19.911111-5.688889 2.844444-14.222222 2.844444-19.911111-5.688889-5.688889-8.533333-8.533333-14.222222-14.222223-17.066667z m28.444445 68.266667c0-8.533333 5.688889-14.222222 14.222222-14.222222s14.222222 5.688889 14.222222 14.222222v31.288889c0 8.533333-8.533333 14.222222-14.222222 14.222222-8.533333 0-14.222222-8.533333-14.222222-14.222222v-31.288889z m-8.533334 79.644445c2.844444-8.533333 8.533333-11.377778 17.066667-11.377778 8.533333 2.844444 11.377778 8.533333 11.377778 17.066666-2.844444 8.533333-5.688889 19.911111-8.533333 28.444445-2.844444 8.533333-11.377778 11.377778-17.066667 8.533333-8.533333-2.844444-11.377778-11.377778-8.533333-17.066666 0-8.533333 2.844444-17.066667 5.688888-25.6zM739.555556 585.955556c2.844444-5.688889 11.377778-8.533333 19.911111-5.688889 5.688889 2.844444 8.533333 11.377778 5.688889 19.911111-5.688889 8.533333-8.533333 17.066667-14.222223 25.6-2.844444 5.688889-11.377778 8.533333-19.911111 5.688889-5.688889-2.844444-8.533333-11.377778-5.688889-19.911111 5.688889-8.533333 11.377778-17.066667 14.222223-25.6z m-42.666667 71.111111c5.688889-5.688889 14.222222-5.688889 19.911111-2.844445s5.688889 14.222222 2.844444 19.911111c-5.688889 8.533333-11.377778 14.222222-19.911111 22.755556-5.688889 5.688889-14.222222 5.688889-19.911111 0s-5.688889-14.222222 0-19.911111c2.844444-5.688889 11.377778-14.222222 17.066667-19.911111zM637.155556 711.111111c5.688889-5.688889 14.222222-2.844444 19.911111 2.844445 5.688889 5.688889 2.844444 14.222222-2.844445 19.911111l-25.6 17.066666c-5.688889 2.844444-14.222222 2.844444-19.911111-5.688889-2.844444-5.688889-2.844444-14.222222 5.688889-19.911111 8.533333-2.844444 17.066667-8.533333 22.755556-14.222222z m-71.111112 36.977778c8.533333-2.844444 14.222222 2.844444 17.066667 8.533333 2.844444 8.533333-2.844444 14.222222-8.533333 17.066667-8.533333 2.844444-19.911111 5.688889-28.444445 5.688889-8.533333 0-14.222222-2.844444-17.066666-11.377778 0-8.533333 2.844444-14.222222 11.377777-17.066667 8.533333 2.844444 17.066667 0 25.6-2.844444z m-79.644444 5.688889c8.533333 0 14.222222 8.533333 11.377778 14.222222 0 8.533333-8.533333 14.222222-14.222222 11.377778-11.377778 0-19.911111-2.844444-28.444445-5.688889-8.533333-2.844444-11.377778-8.533333-11.377778-17.066667 2.844444-8.533333 8.533333-11.377778 17.066667-11.377778 5.688889 8.533333 14.222222 8.533333 25.6 8.533334z m-79.644444-19.911111c5.688889 2.844444 11.377778 11.377778 5.688888 19.911111-2.844444 5.688889-11.377778 11.377778-19.911111 5.688889-8.533333-2.844444-17.066667-8.533333-25.6-14.222223-5.688889-2.844444-8.533333-14.222222-5.688889-19.911111 2.844444-5.688889 14.222222-8.533333 19.911112-5.688889 11.377778 5.688889 17.066667 8.533333 25.6 14.222223zM341.333333 688.355556c5.688889 5.688889 5.688889 14.222222 0 19.911111-5.688889 5.688889-14.222222 5.688889-19.911111 0-8.533333-5.688889-14.222222-14.222222-19.911111-19.911111-5.688889-5.688889-5.688889-14.222222 0-19.911112 5.688889-5.688889 14.222222-5.688889 19.911111 0 5.688889 8.533333 11.377778 14.222222 19.911111 19.911112zM284.444444 625.777778c5.688889 5.688889 2.844444 14.222222-2.844444 19.911111s-14.222222 2.844444-19.911111-2.844445c-5.688889-8.533333-11.377778-14.222222-17.066667-22.755555-5.688889-5.688889-2.844444-14.222222 2.844445-19.911111 5.688889-5.688889 14.222222-2.844444 19.911111 2.844444 5.688889 8.533333 11.377778 14.222222 17.066666 22.755556z m-48.355555-71.111111c2.844444 5.688889 2.844444 14.222222-5.688889 19.911111-5.688889 2.844444-14.222222 2.844444-19.911111-5.688889-5.688889-8.533333-8.533333-17.066667-14.222222-25.6-2.844444-5.688889 0-14.222222 5.688889-19.911111s14.222222 0 19.911111 5.688889c5.688889 8.533333 11.377778 17.066667 14.222222 25.6z m-34.133333-73.955556c2.844444 8.533333 0 14.222222-8.533334 19.911111-8.533333 2.844444-14.222222 0-19.911111-8.533333-2.844444-8.533333-5.688889-17.066667-11.377778-25.6-2.844444-8.533333 0-14.222222 8.533334-19.911111 8.533333-2.844444 14.222222 0 19.911111 8.533333 2.844444 8.533333 5.688889 17.066667 11.377778 25.6z m-34.133334-76.8c2.844444 8.533333 0 14.222222-8.533333 17.066667s-14.222222 0-17.066667-8.533334c-2.844444-8.533333-5.688889-17.066667-8.533333-28.444444-2.844444-8.533333 0-14.222222 8.533333-17.066667 8.533333-2.844444 14.222222 0 17.066667 8.533334 2.844444 11.377778 5.688889 19.911111 8.533333 28.444444zM142.222222 321.422222c0 8.533333-2.844444 17.066667-11.377778 19.911111-8.533333 2.844444-14.222222-2.844444-17.066666-8.533333-2.844444-8.533333-5.688889-17.066667-8.533334-28.444444-2.844444-8.533333 2.844444-14.222222 8.533334-17.066667 8.533333-2.844444 14.222222 2.844444 17.066666 8.533333 5.688889 8.533333 8.533333 17.066667 11.377778 25.6z m-25.6-79.644444c2.844444 5.688889-2.844444 14.222222-8.533333 17.066666s-17.066667-2.844444-17.066667-11.377777c-2.844444-8.533333-5.688889-17.066667-8.533333-28.444445-2.844444-5.688889 2.844444-14.222222 11.377778-17.066666 8.533333-2.844444 14.222222 2.844444 17.066666 11.377777 2.844444 8.533333 2.844444 17.066667 5.688889 28.444445z",fill:"#999999","p-id":"1267"}}),a("path",{attrs:{d:"M48.355556 395.377778c-2.844444 8.533333-8.533333 11.377778-17.066667 11.377778-8.533333-2.844444-11.377778-8.533333-11.377778-17.066667l5.688889-28.444445c2.844444-8.533333 8.533333-11.377778 17.066667-11.377777 8.533333 2.844444 11.377778 8.533333 11.377777 17.066666l-5.688888 28.444445z m17.066666-82.488889c-2.844444 8.533333-8.533333 11.377778-17.066666 11.377778-8.533333-2.844444-11.377778-8.533333-11.377778-17.066667l5.688889-28.444444c2.844444-8.533333 8.533333-11.377778 17.066666-11.377778 8.533333 2.844444 14.222222 8.533333 14.222223 17.066666l-8.533334 28.444445zM85.333333 227.555556c-2.844444 8.533333-11.377778 14.222222-17.066666 11.377777-8.533333 0-14.222222-8.533333-11.377778-17.066666l5.688889-28.444445c2.844444-8.533333 8.533333-11.377778 17.066666-11.377778 8.533333 2.844444 11.377778 8.533333 11.377778 17.066667L85.333333 227.555556z m8.533334-28.444445c-5.688889-5.688889-5.688889-14.222222 0-19.911111 5.688889-5.688889 14.222222-5.688889 19.911111 0l19.911111 19.911111c5.688889 5.688889 5.688889 14.222222 0 19.911111-5.688889 2.844444-14.222222 5.688889-19.911111 0L93.866667 199.111111z m62.577777 56.888889c-5.688889-5.688889-5.688889-14.222222 0-19.911111 5.688889-5.688889 14.222222-5.688889 19.911112 0l19.911111 19.911111c5.688889 5.688889 5.688889 14.222222 0 19.911111s-14.222222 5.688889-19.911111 0L156.444444 256z m62.577778 59.733333c-5.688889-5.688889-5.688889-14.222222 0-19.911111 5.688889-5.688889 14.222222-5.688889 19.911111 0l19.911111 17.066667c5.688889 5.688889 5.688889 14.222222 0 19.911111-5.688889 5.688889-14.222222 5.688889-19.911111 0l-19.911111-17.066667z",fill:"#979797","p-id":"1268"}})])])],2)},C=[],A=(a("34ef"),a("a481"),a("5df3"),a("4f7f"),a("9278"),a("87f3"),a("308d")),L=a("6bb5"),E=a("4e2b"),I=(a("c5f6"),a("3b2b"),a("4917"),a("6c7b"),a("ac4d"),a("8a81"),a("7618")),T=function(){var t="undefined"!=typeof self,e=function(){function e(t,a){Object(c["a"])(this,e),this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1},this.config=t||{},this.surface=a,this.config.options&&(this.defaultOptions=this._options(this.config.options))}return Object(l["a"])(e,[{key:"_options",value:function(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}},{key:"_drawable",value:function(t,e,a){return{shape:t,sets:e||[],options:a||this.defaultOptions}}},{key:"getCanvasSize",value:function(){var t=function(t){return t&&"object"==Object(I["a"])(t)&&t.baseVal&&t.baseVal.value?t.baseVal.value:t||100};return this.surface?[t(this.surface.width),t(this.surface.height)]:[100,100]}},{key:"computePolygonSize",value:function(t){if(t.length){for(var e=t[0][0],a=t[0][0],n=t[0][1],i=t[0][1],s=1;s<t.length;s++)e=Math.min(e,t[s][0]),a=Math.max(a,t[s][0]),n=Math.min(n,t[s][1]),i=Math.max(i,t[s][1]);return[a-e,i-n]}return[0,0]}},{key:"polygonPath",value:function(t){var e="";if(t.length){e="M".concat(t[0][0],",").concat(t[0][1]);for(var a=1;a<t.length;a++)e="".concat(e," L").concat(t[a][0],",").concat(t[a][1])}return e}},{key:"computePathSize",value:function(e){var a=[0,0];if(t&&self.document)try{var n="http://www.w3.org/2000/svg",i=self.document.createElementNS(n,"svg");i.setAttribute("width","0"),i.setAttribute("height","0");var s=self.document.createElementNS(n,"path");s.setAttribute("d",e),i.appendChild(s),self.document.body.appendChild(i);var r=s.getBBox();r&&(a[0]=r.width||0,a[1]=r.height||0),self.document.body.removeChild(i)}catch(t){}var o=this.getCanvasSize();return a[0]*a[1]||(a=o),a}},{key:"toPaths",value:function(t){var e=t.sets||[],a=t.options||this.defaultOptions,n=[],i=!0,s=!1,r=void 0;try{for(var o,h=e[Symbol.iterator]();!(i=(o=h.next()).done);i=!0){var c=o.value,l=null;switch(c.type){case"path":l={d:this.opsToPath(c),stroke:a.stroke,strokeWidth:a.strokeWidth,fill:"none"};break;case"fillPath":l={d:this.opsToPath(c),stroke:"none",strokeWidth:0,fill:a.fill||"none"};break;case"fillSketch":l=this.fillSketch(c,a);break;case"path2Dfill":l={d:c.path||"",stroke:"none",strokeWidth:0,fill:a.fill||"none"};break;case"path2Dpattern":var u=c.size,f={x:0,y:0,width:1,height:1,viewBox:"0 0 ".concat(Math.round(u[0])," ").concat(Math.round(u[1])),patternUnits:"objectBoundingBox",path:this.fillSketch(c,a)};l={d:c.path,stroke:"none",strokeWidth:0,pattern:f};break}l&&n.push(l)}}catch(p){s=!0,r=p}finally{try{i||null==h.return||h.return()}finally{if(s)throw r}}return n}},{key:"fillSketch",value:function(t,e){var a=e.fillWeight;return a<0&&(a=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||"none",strokeWidth:a,fill:"none"}}},{key:"opsToPath",value:function(t){var e="",a=!0,n=!1,i=void 0;try{for(var s,r=t.ops[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var o=s.value,h=o.data;switch(o.op){case"move":e+="M".concat(h[0]," ").concat(h[1]," ");break;case"bcurveTo":e+="C".concat(h[0]," ").concat(h[1],", ").concat(h[2]," ").concat(h[3],", ").concat(h[4]," ").concat(h[5]," ");break;case"qcurveTo":e+="Q".concat(h[0]," ").concat(h[1],", ").concat(h[2]," ").concat(h[3]," ");break;case"lineTo":e+="L".concat(h[0]," ").concat(h[1]," ")}}}catch(c){n=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(n)throw i}}return e.trim()}}]),e}();function a(t,e){return t.type===e}var n={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:4,t:2,V:1,v:1,Z:0,z:0},i=function(){function t(e){Object(c["a"])(this,t),this.COMMAND=0,this.NUMBER=1,this.EOD=2,this.segments=[],this.parseData(e),this.processPoints()}return Object(l["a"])(t,[{key:"tokenize",value:function(t){for(var e=new Array;""!==t;)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:this.COMMAND,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return console.error("Unrecognized segment command: "+t),[];e[e.length]={type:this.NUMBER,text:"".concat(parseFloat(RegExp.$1))},t=t.substr(RegExp.$1.length)}return e[e.length]={type:this.EOD,text:""},e}},{key:"parseData",value:function(t){var e=this.tokenize(t),i=0,s=e[i],r="BOD";for(this.segments=new Array;!a(s,this.EOD);){var o=void 0,h=new Array;if("BOD"===r){if("M"!==s.text&&"m"!==s.text)return void this.parseData("M0,0"+t);i++,o=n[s.text],r=s.text}else a(s,this.NUMBER)?o=n[r]:(i++,o=n[s.text],r=s.text);if(i+o<e.length){for(var c=i;c<i+o;c++){var l=e[c];if(!a(l,this.NUMBER))return void console.error("Parameter type is not a number: "+r+","+l.text);h[h.length]=+l.text}if("number"!=typeof n[r])return void console.error("Unsupported segment type: "+r);var u={key:r,data:h};this.segments.push(u),s=e[i+=o],"M"===r&&(r="L"),"m"===r&&(r="l")}else console.error("Path data ended before all parameters were found")}}},{key:"processPoints",value:function(){for(var t=null,e=[0,0],a=0;a<this.segments.length;a++){var n=this.segments[a];switch(n.key){case"M":case"L":case"T":n.point=[n.data[0],n.data[1]];break;case"m":case"l":case"t":n.point=[n.data[0]+e[0],n.data[1]+e[1]];break;case"H":n.point=[n.data[0],e[1]];break;case"h":n.point=[n.data[0]+e[0],e[1]];break;case"V":n.point=[e[0],n.data[0]];break;case"v":n.point=[e[0],n.data[0]+e[1]];break;case"z":case"Z":t&&(n.point=[t[0],t[1]]);break;case"C":n.point=[n.data[4],n.data[5]];break;case"c":n.point=[n.data[4]+e[0],n.data[5]+e[1]];break;case"S":n.point=[n.data[2],n.data[3]];break;case"s":n.point=[n.data[2]+e[0],n.data[3]+e[1]];break;case"Q":n.point=[n.data[2],n.data[3]];break;case"q":n.point=[n.data[2]+e[0],n.data[3]+e[1]];break;case"A":n.point=[n.data[5],n.data[6]];break;case"a":n.point=[n.data[5]+e[0],n.data[6]+e[1]]}"m"!==n.key&&"M"!==n.key||(t=null),n.point&&(e=n.point,t||(t=n.point)),"z"!==n.key&&"Z"!==n.key||(t=null)}}},{key:"closed",get:function(){if(void 0===this._closed){this._closed=!1;var t=!0,e=!1,a=void 0;try{for(var n,i=this.segments[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var s=n.value;"z"===s.key.toLowerCase()&&(this._closed=!0)}}catch(r){e=!0,a=r}finally{try{t||null==i.return||i.return()}finally{if(e)throw a}}}return this._closed}}]),t}(),s=function(){function t(e){Object(c["a"])(this,t),this._position=[0,0],this._first=null,this.bezierReflectionPoint=null,this.quadReflectionPoint=null,this.parsed=new i(e)}return Object(l["a"])(t,[{key:"setPosition",value:function(t,e){this._position=[t,e],this._first||(this._first=[t,e])}},{key:"segments",get:function(){return this.parsed.segments}},{key:"closed",get:function(){return this.parsed.closed}},{key:"linearPoints",get:function(){if(!this._linearPoints){var t=[],e=[],a=!0,n=!1,i=void 0;try{for(var s,r=this.parsed.segments[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var o=s.value,h=o.key.toLowerCase();("m"!==h&&"z"!==h||(e.length&&(t.push(e),e=[]),"z"!==h))&&o.point&&e.push(o.point)}}catch(c){n=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(n)throw i}}e.length&&(t.push(e),e=[]),this._linearPoints=t}return this._linearPoints}},{key:"first",get:function(){return this._first},set:function(t){this._first=t}},{key:"position",get:function(){return this._position}},{key:"x",get:function(){return this._position[0]}},{key:"y",get:function(){return this._position[1]}}]),t}(),r=function(){function t(e,a,n,i,s,r){if(Object(c["a"])(this,t),this._segIndex=0,this._numSegs=0,this._rx=0,this._ry=0,this._sinPhi=0,this._cosPhi=0,this._C=[0,0],this._theta=0,this._delta=0,this._T=0,this._from=e,e[0]!==a[0]||e[1]!==a[1]){var o=Math.PI/180;this._rx=Math.abs(n[0]),this._ry=Math.abs(n[1]),this._sinPhi=Math.sin(i*o),this._cosPhi=Math.cos(i*o);var h=this._cosPhi*(e[0]-a[0])/2+this._sinPhi*(e[1]-a[1])/2,l=-this._sinPhi*(e[0]-a[0])/2+this._cosPhi*(e[1]-a[1])/2,u=0,f=this._rx*this._rx*this._ry*this._ry-this._rx*this._rx*l*l-this._ry*this._ry*h*h;if(f<0){var p=Math.sqrt(1-f/(this._rx*this._rx*this._ry*this._ry));this._rx=this._rx*p,this._ry=this._ry*p,u=0}else u=(s===r?-1:1)*Math.sqrt(f/(this._rx*this._rx*l*l+this._ry*this._ry*h*h));var d=u*this._rx*l/this._ry,v=-u*this._ry*h/this._rx;this._C=[0,0],this._C[0]=this._cosPhi*d-this._sinPhi*v+(e[0]+a[0])/2,this._C[1]=this._sinPhi*d+this._cosPhi*v+(e[1]+a[1])/2,this._theta=this.calculateVectorAngle(1,0,(h-d)/this._rx,(l-v)/this._ry);var g=this.calculateVectorAngle((h-d)/this._rx,(l-v)/this._ry,(-h-d)/this._rx,(-l-v)/this._ry);!r&&g>0?g-=2*Math.PI:r&&g<0&&(g+=2*Math.PI),this._numSegs=Math.ceil(Math.abs(g/(Math.PI/2))),this._delta=g/this._numSegs,this._T=8/3*Math.sin(this._delta/4)*Math.sin(this._delta/4)/Math.sin(this._delta/2)}}return Object(l["a"])(t,[{key:"getNextSegment",value:function(){if(this._segIndex===this._numSegs)return null;var t=Math.cos(this._theta),e=Math.sin(this._theta),a=this._theta+this._delta,n=Math.cos(a),i=Math.sin(a),s=[this._cosPhi*this._rx*n-this._sinPhi*this._ry*i+this._C[0],this._sinPhi*this._rx*n+this._cosPhi*this._ry*i+this._C[1]],r=[this._from[0]+this._T*(-this._cosPhi*this._rx*e-this._sinPhi*this._ry*t),this._from[1]+this._T*(-this._sinPhi*this._rx*e+this._cosPhi*this._ry*t)],o=[s[0]+this._T*(this._cosPhi*this._rx*i+this._sinPhi*this._ry*n),s[1]+this._T*(this._sinPhi*this._rx*i-this._cosPhi*this._ry*n)];return this._theta=a,this._from=[s[0],s[1]],this._segIndex++,{cp1:r,cp2:o,to:s}}},{key:"calculateVectorAngle",value:function(t,e,a,n){var i=Math.atan2(e,t),s=Math.atan2(n,a);return s>=i?s-i:2*Math.PI-(i-s)}}]),t}(),o=function(){function t(e,a){Object(c["a"])(this,t),this.sets=e,this.closed=a}return Object(l["a"])(t,[{key:"fit",value:function(t){var e=[],a=!0,n=!1,i=void 0;try{for(var s,r=this.sets[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var o=s.value,h=o.length,c=Math.floor(t*h);if(c<5){if(h<=5)continue;c=5}e.push(this.reduce(o,c))}}catch(g){n=!0,i=g}finally{try{a||null==r.return||r.return()}finally{if(n)throw i}}for(var l="",u=0,f=e;u<f.length;u++){for(var p=f[u],d=0;d<p.length;d++){var v=p[d];l+=0===d?"M"+v[0]+","+v[1]:"L"+v[0]+","+v[1]}this.closed&&(l+="z ")}return l}},{key:"distance",value:function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}},{key:"reduce",value:function(t,e){if(t.length<=e)return t;for(var a=t.slice(0);a.length>e;){for(var n=-1,i=-1,s=1;s<a.length-1;s++){var r=this.distance(a[s-1],a[s]),o=this.distance(a[s],a[s+1]),h=this.distance(a[s-1],a[s+1]),c=(r+o+h)/2,l=Math.sqrt(c*(c-r)*(c-o)*(c-h));(n<0||l<n)&&(n=l,i=s)}if(!(i>0))break;a.splice(i,1)}return a}}]),t}(),h=function(){function t(e,a){Object(c["a"])(this,t),this.xi=Number.MAX_VALUE,this.yi=Number.MAX_VALUE,this.px1=e[0],this.py1=e[1],this.px2=a[0],this.py2=a[1],this.a=this.py2-this.py1,this.b=this.px1-this.px2,this.c=this.px2*this.py1-this.px1*this.py2,this._undefined=0===this.a&&0===this.b&&0===this.c}return Object(l["a"])(t,[{key:"isUndefined",value:function(){return this._undefined}},{key:"intersects",value:function(t){if(this.isUndefined()||t.isUndefined())return!1;var e=Number.MAX_VALUE,a=Number.MAX_VALUE,n=0,i=0,s=this.a,r=this.b,o=this.c;return Math.abs(r)>1e-5&&(e=-s/r,n=-o/r),Math.abs(t.b)>1e-5&&(a=-t.a/t.b,i=-t.c/t.b),e===Number.MAX_VALUE?a===Number.MAX_VALUE?-o/s==-t.c/t.a&&(this.py1>=Math.min(t.py1,t.py2)&&this.py1<=Math.max(t.py1,t.py2)?(this.xi=this.px1,this.yi=this.py1,!0):this.py2>=Math.min(t.py1,t.py2)&&this.py2<=Math.max(t.py1,t.py2)&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=this.px1,this.yi=a*this.xi+i,!((this.py1-this.yi)*(this.yi-this.py2)<-1e-5||(t.py1-this.yi)*(this.yi-t.py2)<-1e-5)&&(!(Math.abs(t.a)<1e-5)||!((t.px1-this.xi)*(this.xi-t.px2)<-1e-5))):a===Number.MAX_VALUE?(this.xi=t.px1,this.yi=e*this.xi+n,!((t.py1-this.yi)*(this.yi-t.py2)<-1e-5||(this.py1-this.yi)*(this.yi-this.py2)<-1e-5)&&(!(Math.abs(s)<1e-5)||!((this.px1-this.xi)*(this.xi-this.px2)<-1e-5))):e===a?n===i&&(this.px1>=Math.min(t.px1,t.px2)&&this.px1<=Math.max(t.py1,t.py2)?(this.xi=this.px1,this.yi=this.py1,!0):this.px2>=Math.min(t.px1,t.px2)&&this.px2<=Math.max(t.px1,t.px2)&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=(i-n)/(e-a),this.yi=e*this.xi+n,!((this.px1-this.xi)*(this.xi-this.px2)<-1e-5||(t.px1-this.xi)*(this.xi-t.px2)<-1e-5))}}]),t}();function u(t,e){var a=t[1][1]-t[0][1],n=t[0][0]-t[1][0],i=a*t[0][0]+n*t[0][1],s=e[1][1]-e[0][1],r=e[0][0]-e[1][0],o=s*e[0][0]+r*e[0][1],h=a*r-s*n;return h?[Math.round((r*i-n*o)/h),Math.round((a*o-s*i)/h)]:null}var f=function(){function t(e,a,n,i,s,r,o,l){Object(c["a"])(this,t),this.deltaX=0,this.hGap=0,this.top=e,this.bottom=a,this.left=n,this.right=i,this.gap=s,this.sinAngle=r,this.tanAngle=l,Math.abs(r)<1e-4?this.pos=n+s:Math.abs(r)>.9999?this.pos=e+s:(this.deltaX=(a-e)*Math.abs(l),this.pos=n-Math.abs(this.deltaX),this.hGap=Math.abs(s/o),this.sLeft=new h([n,a],[n,e]),this.sRight=new h([i,a],[i,e]))}return Object(l["a"])(t,[{key:"nextLine",value:function(){if(Math.abs(this.sinAngle)<1e-4){if(this.pos<this.right){var t=[this.pos,this.top,this.pos,this.bottom];return this.pos+=this.gap,t}}else if(Math.abs(this.sinAngle)>.9999){if(this.pos<this.bottom){var e=[this.left,this.pos,this.right,this.pos];return this.pos+=this.gap,e}}else{var a=this.pos-this.deltaX/2,n=this.pos+this.deltaX/2,i=this.bottom,s=this.top;if(this.pos<this.right+this.deltaX){for(;a<this.left&&n<this.left||a>this.right&&n>this.right;)if(this.pos+=this.hGap,a=this.pos-this.deltaX/2,n=this.pos+this.deltaX/2,this.pos>this.right+this.deltaX)return null;var r=new h([a,i],[n,s]);this.sLeft&&r.intersects(this.sLeft)&&(a=r.xi,i=r.yi),this.sRight&&r.intersects(this.sRight)&&(n=r.xi,s=r.yi),this.tanAngle>0&&(a=this.right-(a-this.left),n=this.right-(n-this.left));var o=[a,i,n,s];return this.pos+=this.hGap,o}}return null}}]),t}();function p(t){var e=t[0],a=t[1];return Math.sqrt(Math.pow(e[0]-a[0],2)+Math.pow(e[1]-a[1],2))}function d(t,e){for(var a=[],n=new h([t[0],t[1]],[t[2],t[3]]),i=0;i<e.length;i++){var s=new h(e[i],e[(i+1)%e.length]);n.intersects(s)&&a.push([n.xi,n.yi])}return a}function v(t,e,a,n,i,s,r){return[-a*s-n*i+a+s*t+i*e,r*(a*i-n*s)+n+-r*i*t+r*s*e]}function g(t,e){var a=[];if(t&&t.length){for(var n=t[0][0],i=t[0][0],s=t[0][1],r=t[0][1],o=1;o<t.length;o++)n=Math.min(n,t[o][0]),i=Math.max(i,t[o][0]),s=Math.min(s,t[o][1]),r=Math.max(r,t[o][1]);var h=e.hachureAngle,c=e.hachureGap;c<0&&(c=4*e.strokeWidth),c=Math.max(c,.1);for(var l,u=h%180*(Math.PI/180),p=Math.cos(u),v=Math.sin(u),g=Math.tan(u),y=new f(s-1,r+1,n-1,i+1,c,v,p,g);null!=(l=y.nextLine());)for(var m=d(l,t),b=0;b<m.length;b++)if(b<m.length-1){var k=m[b],M=m[b+1];a.push([k,M])}}return a}function y(t,e,a,n,i,s){var r=[],o=Math.abs(n/2),h=Math.abs(i/2);o+=t.randOffset(.05*o,s),h+=t.randOffset(.05*h,s);var c=s.hachureAngle,l=s.hachureGap;l<=0&&(l=4*s.strokeWidth);var u=s.fillWeight;u<0&&(u=s.strokeWidth/2);for(var f=c%180*(Math.PI/180),p=Math.tan(f),d=h/o,g=Math.sqrt(d*p*d*p+1),y=d*p/g,m=1/g,b=l/(o*h/Math.sqrt(h*m*(h*m)+o*y*(o*y))/o),k=Math.sqrt(o*o-(e-o+b)*(e-o+b)),M=e-o+b;M<e+o;M+=b){var _=v(M,a-(k=Math.sqrt(o*o-(e-M)*(e-M))),e,a,y,m,d),w=v(M,a+k,e,a,y,m,d);r.push([_,w])}return r}var m=function(){function t(e){Object(c["a"])(this,t),this.helper=e}return Object(l["a"])(t,[{key:"fillPolygon",value:function(t,e){return this._fillPolygon(t,e)}},{key:"fillEllipse",value:function(t,e,a,n,i){return this._fillEllipse(t,e,a,n,i)}},{key:"fillArc",value:function(t,e,a,n,i,s,r){return null}},{key:"_fillPolygon",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=g(t,e);return{type:"fillSketch",ops:this.renderLines(n,e,a)}}},{key:"_fillEllipse",value:function(t,e,a,n,i){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=y(this.helper,t,e,a,n,i);return{type:"fillSketch",ops:this.renderLines(r,i,s)}}},{key:"renderLines",value:function(t,e,a){var n=[],i=null,s=!0,r=!1,o=void 0;try{for(var h,c=t[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var l=h.value;n=n.concat(this.helper.doubleLineOps(l[0][0],l[0][1],l[1][0],l[1][1],e)),a&&i&&(n=n.concat(this.helper.doubleLineOps(i[0],i[1],l[0][0],l[0][1],e))),i=l[1]}}catch(u){r=!0,o=u}finally{try{s||null==c.return||c.return()}finally{if(r)throw o}}return n}}]),t}(),b=function(t){function e(){return Object(c["a"])(this,e),Object(A["a"])(this,Object(L["a"])(e).apply(this,arguments))}return Object(E["a"])(e,t),Object(l["a"])(e,[{key:"fillPolygon",value:function(t,e){return this._fillPolygon(t,e,!0)}},{key:"fillEllipse",value:function(t,e,a,n,i){return this._fillEllipse(t,e,a,n,i,!0)}}]),e}(m),k=function(t){function e(){return Object(c["a"])(this,e),Object(A["a"])(this,Object(L["a"])(e).apply(this,arguments))}return Object(E["a"])(e,t),Object(l["a"])(e,[{key:"fillPolygon",value:function(t,e){var a=this._fillPolygon(t,e),n=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),i=this._fillPolygon(t,n);return a.ops=a.ops.concat(i.ops),a}},{key:"fillEllipse",value:function(t,e,a,n,i){var s=this._fillEllipse(t,e,a,n,i),r=Object.assign({},i,{hachureAngle:i.hachureAngle+90}),o=this._fillEllipse(t,e,a,n,r);return s.ops=s.ops.concat(o.ops),s}}]),e}(m),M=function(){function t(e){Object(c["a"])(this,t),this.helper=e}return Object(l["a"])(t,[{key:"fillPolygon",value:function(t,e){var a=g(t,e=Object.assign({},e,{curveStepCount:4,hachureAngle:0}));return this.dotsOnLines(a,e)}},{key:"fillEllipse",value:function(t,e,a,n,i){i=Object.assign({},i,{curveStepCount:4,hachureAngle:0});var s=y(this.helper,t,e,a,n,i);return this.dotsOnLines(s,i)}},{key:"fillArc",value:function(t,e,a,n,i,s,r){return null}},{key:"dotsOnLines",value:function(t,e){var a=[],n=e.hachureGap;n<0&&(n=4*e.strokeWidth),n=Math.max(n,.1);var i=e.fillWeight;i<0&&(i=e.strokeWidth/2);var s=!0,r=!1,o=void 0;try{for(var h,c=t[Symbol.iterator]();!(s=(h=c.next()).done);s=!0)for(var l=h.value,u=p(l)/n,f=Math.ceil(u)-1,d=Math.atan((l[1][1]-l[0][1])/(l[1][0]-l[0][0])),v=0;v<f;v++){var g=n*(v+1),y=g*Math.sin(d),m=g*Math.cos(d),b=[l[0][0]-m,l[0][1]+y],k=this.helper.randOffsetWithRange(b[0]-n/4,b[0]+n/4,e),M=this.helper.randOffsetWithRange(b[1]-n/4,b[1]+n/4,e),_=this.helper.ellipse(k,M,i,i,e);a=a.concat(_.ops)}}catch(w){r=!0,o=w}finally{try{s||null==c.return||c.return()}finally{if(r)throw o}}return{type:"fillSketch",ops:a}}}]),t}(),_=function(){function t(e){Object(c["a"])(this,t),this.helper=e}return Object(l["a"])(t,[{key:"fillPolygon",value:function(t,e){var a=[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER],n=[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER];t.forEach(function(t){a[0]=Math.min(a[0],t[0]),a[1]=Math.max(a[1],t[0]),n[0]=Math.min(n[0],t[1]),n[1]=Math.max(n[1],t[1])});var i=function(t){for(var e=0,a=0,n=0,i=0;i<t.length;i++){var s=t[i],r=i===t.length-1?t[0]:t[i+1];e+=s[0]*r[1]-r[0]*s[1]}e/=2;for(var o=0;o<t.length;o++){var h=t[o],c=o===t.length-1?t[0]:t[o+1];a+=(h[0]+c[0])*(h[0]*c[1]-c[0]*h[1]),n+=(h[1]+c[1])*(h[0]*c[1]-c[0]*h[1])}return[a/(6*e),n/(6*e)]}(t),s=Math.max(Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-n[0],2)),Math.sqrt(Math.pow(i[0]-a[1],2)+Math.pow(i[1]-n[1],2))),r=e.hachureGap>0?e.hachureGap:4*e.strokeWidth,o=[];if(t.length>2)for(var h=0;h<t.length;h++)h===t.length-1?o.push([t[h],t[0]]):o.push([t[h],t[h+1]]);for(var c=[],l=Math.max(1,Math.PI*s/r),f=function(t){var e=t*Math.PI/l,r=[i,[i[0]+s*Math.cos(e),i[1]+s*Math.sin(e)]];o.forEach(function(t){var e=u(t,r);e&&e[0]>=a[0]&&e[0]<=a[1]&&e[1]>=n[0]&&e[1]<=n[1]&&c.push(e)})},p=0;p<l;p++)f(p);c=this.removeDuplocatePoints(c);var d=this.createLinesFromCenter(i,c);return{type:"fillSketch",ops:this.drawLines(d,e)}}},{key:"fillEllipse",value:function(t,e,a,n,i){return this.fillArcSegment(t,e,a,n,0,2*Math.PI,i)}},{key:"fillArc",value:function(t,e,a,n,i,s,r){return this.fillArcSegment(t,e,a,n,i,s,r)}},{key:"fillArcSegment",value:function(t,e,a,n,i,s,r){var o=[t,e],h=a/2,c=n/2,l=Math.max(a/2,n/2),u=r.hachureGap;u<0&&(u=4*r.strokeWidth);for(var f=Math.max(1,Math.abs(s-i)*l/u),p=[],d=0;d<f;d++){var v=d*((s-i)/f)+i,g=l*Math.cos(v),y=l*Math.sin(v),m=Math.sqrt(h*h*y*y+c*c*g*g),b=h*c*g/m,k=h*c*y/m;p.push([o[0]+b,o[1]+k])}p=this.removeDuplocatePoints(p);var M=this.createLinesFromCenter(o,p);return{type:"fillSketch",ops:this.drawLines(M,r)}}},{key:"drawLines",value:function(t,e){var a=this,n=[];return t.forEach(function(t){var i=t[0],s=t[1];n=n.concat(a.helper.doubleLineOps(i[0],i[1],s[0],s[1],e))}),n}},{key:"createLinesFromCenter",value:function(t,e){return e.map(function(e){return[t,e]})}},{key:"removeDuplocatePoints",value:function(t){var e=new Set;return t.filter(function(t){var a=t.join(",");return!e.has(a)&&(e.add(a),!0)})}}]),t}(),w=function(){function t(e){Object(c["a"])(this,t),this.helper=e}return Object(l["a"])(t,[{key:"fillPolygon",value:function(t,e){var a=g(t,e);return{type:"fillSketch",ops:this.dashedLine(a,e)}}},{key:"fillEllipse",value:function(t,e,a,n,i){var s=y(this.helper,t,e,a,n,i);return{type:"fillSketch",ops:this.dashedLine(s,i)}}},{key:"fillArc",value:function(t,e,a,n,i,s,r){return null}},{key:"dashedLine",value:function(t,e){var a=this,n=e.dashOffset<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashOffset,i=e.dashGap<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashGap,s=[];return t.forEach(function(t){var r=p(t),o=Math.floor(r/(n+i)),h=(r+i-o*(n+i))/2,c=t[0],l=t[1];c[0]>l[0]&&(c=t[1],l=t[0]);for(var u=Math.atan((l[1]-c[1])/(l[0]-c[0])),f=0;f<o;f++){var d=f*(n+i),v=d+n,g=[c[0]+d*Math.cos(u)+h*Math.cos(u),c[1]+d*Math.sin(u)+h*Math.sin(u)],y=[c[0]+v*Math.cos(u)+h*Math.cos(u),c[1]+v*Math.sin(u)+h*Math.sin(u)];s=s.concat(a.helper.doubleLineOps(g[0],g[1],y[0],y[1],e))}}),s}}]),t}(),x=function(){function t(e){Object(c["a"])(this,t),this.helper=e}return Object(l["a"])(t,[{key:"fillPolygon",value:function(t,e){var a=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,n=e.zigzagOffset<0?a:e.zigzagOffset,i=g(t,e=Object.assign({},e,{hachureGap:a+n}));return{type:"fillSketch",ops:this.zigzagLines(i,n,e)}}},{key:"fillEllipse",value:function(t,e,a,n,i){var s=i.hachureGap<0?4*i.strokeWidth:i.hachureGap,r=i.zigzagOffset<0?s:i.zigzagOffset;i=Object.assign({},i,{hachureGap:s+r});var o=y(this.helper,t,e,a,n,i);return{type:"fillSketch",ops:this.zigzagLines(o,r,i)}}},{key:"fillArc",value:function(t,e,a,n,i,s,r){return null}},{key:"zigzagLines",value:function(t,e,a){var n=this,i=[];return t.forEach(function(t){var s=p(t),r=Math.round(s/(2*e)),o=t[0],h=t[1];o[0]>h[0]&&(o=t[1],h=t[0]);for(var c=Math.atan((h[1]-o[1])/(h[0]-o[0])),l=0;l<r;l++){var u=2*l*e,f=2*(l+1)*e,d=Math.sqrt(2*Math.pow(e,2)),v=[o[0]+u*Math.cos(c),o[1]+u*Math.sin(c)],g=[o[0]+f*Math.cos(c),o[1]+f*Math.sin(c)],y=[v[0]+d*Math.cos(c+Math.PI/4),v[1]+d*Math.sin(c+Math.PI/4)];i=(i=i.concat(n.helper.doubleLineOps(v[0],v[1],y[0],y[1],a))).concat(n.helper.doubleLineOps(y[0],y[1],g[0],g[1],a))}}),i}}]),t}(),P={};function O(t,e){var a=t.fillStyle||"hachure";if(!P[a])switch(a){case"zigzag":P[a]||(P[a]=new b(e));break;case"cross-hatch":P[a]||(P[a]=new k(e));break;case"dots":P[a]||(P[a]=new M(e));break;case"starburst":P[a]||(P[a]=new _(e));break;case"dashed":P[a]||(P[a]=new w(e));break;case"zigzag-line":P[a]||(P[a]=new x(e));break;case"hachure":default:P[a="hachure"]||(P[a]=new m(e))}return P[a]}var S={randOffset:function(t,e){return B(t,e)},randOffsetWithRange:function(t,e,a){return R(t,e,a)},ellipse:D,doubleLineOps:function(t,e,a,n,i){return $(t,e,a,n,i)}};function j(t,e,a,n,i){return{type:"path",ops:$(t,e,a,n,i)}}function z(t,e,a){var n=(t||[]).length;if(n>2){for(var i=[],s=0;s<n-1;s++)i=i.concat($(t[s][0],t[s][1],t[s+1][0],t[s+1][1],a));return e&&(i=i.concat($(t[n-1][0],t[n-1][1],t[0][0],t[0][1],a))),{type:"path",ops:i}}return 2===n?j(t[0][0],t[0][1],t[1][0],t[1][1],a):{type:"path",ops:[]}}function C(t,e,a,n,i){return function(t,e){return z(t,!0,e)}([[t,e],[t+a,e],[t+a,e+n],[t,e+n]],i)}function T(t,e){var a=G(t,1*(1+.2*e.roughness),e),n=G(t,1.5*(1+.22*e.roughness),e);return{type:"path",ops:a.concat(n)}}function D(t,e,a,n,i){var s=2*Math.PI/i.curveStepCount,r=Math.abs(a/2),o=Math.abs(n/2),h=V(s,t,e,r+=B(.05*r,i),o+=B(.05*o,i),1,s*R(.1,R(.4,1,i),i),i),c=V(s,t,e,r,o,1.5,0,i);return{type:"path",ops:h.concat(c)}}function W(t,e,a,n,i,s,r,o,h){var c=t,l=e,u=Math.abs(a/2),f=Math.abs(n/2);u+=B(.01*u,h),f+=B(.01*f,h);for(var p=i,d=s;p<0;)p+=2*Math.PI,d+=2*Math.PI;d-p>2*Math.PI&&(p=0,d=2*Math.PI);var v=2*Math.PI/h.curveStepCount,g=Math.min(v/2,(d-p)/2),y=X(g,c,l,u,f,p,d,1,h),m=X(g,c,l,u,f,p,d,1.5,h),b=y.concat(m);return r&&(o?b=(b=b.concat($(c,l,c+u*Math.cos(p),l+f*Math.sin(p),h))).concat($(c,l,c+u*Math.cos(d),l+f*Math.sin(d),h)):(b.push({op:"lineTo",data:[c,l]}),b.push({op:"lineTo",data:[c+u*Math.cos(p),l+f*Math.sin(p)]}))),{type:"path",ops:b}}function N(t,e){var a=[];if(t.length){var n=e.maxRandomnessOffset||0,i=t.length;if(i>2){a.push({op:"move",data:[t[0][0]+B(n,e),t[0][1]+B(n,e)]});for(var s=1;s<i;s++)a.push({op:"lineTo",data:[t[s][0]+B(n,e),t[s][1]+B(n,e)]})}}return{type:"fillPath",ops:a}}function q(t,e){return O(e,S).fillPolygon(t,e)}function R(t,e,a){return a.roughness*(Math.random()*(e-t)+t)}function B(t,e){return R(-t,t,e)}function $(t,e,a,n,i){var s=U(t,e,a,n,i,!0,!1),r=U(t,e,a,n,i,!0,!0);return s.concat(r)}function U(t,e,a,n,i,s,r){var o=Math.pow(t-a,2)+Math.pow(e-n,2),h=i.maxRandomnessOffset||0;h*h*100>o&&(h=Math.sqrt(o)/10);var c=h/2,l=.2+.2*Math.random(),u=i.bowing*i.maxRandomnessOffset*(n-e)/200,f=i.bowing*i.maxRandomnessOffset*(t-a)/200;u=B(u,i),f=B(f,i);var p=[],d=function(){return B(c,i)},v=function(){return B(h,i)};return s&&(r?p.push({op:"move",data:[t+d(),e+d()]}):p.push({op:"move",data:[t+B(h,i),e+B(h,i)]})),r?p.push({op:"bcurveTo",data:[u+t+(a-t)*l+d(),f+e+(n-e)*l+d(),u+t+2*(a-t)*l+d(),f+e+2*(n-e)*l+d(),a+d(),n+d()]}):p.push({op:"bcurveTo",data:[u+t+(a-t)*l+v(),f+e+(n-e)*l+v(),u+t+2*(a-t)*l+v(),f+e+2*(n-e)*l+v(),a+v(),n+v()]}),p}function G(t,e,a){var n=[];n.push([t[0][0]+B(e,a),t[0][1]+B(e,a)]),n.push([t[0][0]+B(e,a),t[0][1]+B(e,a)]);for(var i=1;i<t.length;i++)n.push([t[i][0]+B(e,a),t[i][1]+B(e,a)]),i===t.length-1&&n.push([t[i][0]+B(e,a),t[i][1]+B(e,a)]);return F(n,null,a)}function F(t,e,a){var n=t.length,i=[];if(n>3){var s=[],r=1-a.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(var o=1;o+2<n;o++){var h=t[o];s[0]=[h[0],h[1]],s[1]=[h[0]+(r*t[o+1][0]-r*t[o-1][0])/6,h[1]+(r*t[o+1][1]-r*t[o-1][1])/6],s[2]=[t[o+1][0]+(r*t[o][0]-r*t[o+2][0])/6,t[o+1][1]+(r*t[o][1]-r*t[o+2][1])/6],s[3]=[t[o+1][0],t[o+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}if(e&&2===e.length){var c=a.maxRandomnessOffset;i.push({op:"lineTo",data:[e[0]+B(c,a),e[1]+B(c,a)]})}}else 3===n?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===n&&(i=i.concat($(t[0][0],t[0][1],t[1][0],t[1][1],a)));return i}function V(t,e,a,n,i,s,r,o){var h=B(.5,o)-Math.PI/2,c=[];c.push([B(s,o)+e+.9*n*Math.cos(h-t),B(s,o)+a+.9*i*Math.sin(h-t)]);for(var l=h;l<2*Math.PI+h-.01;l+=t)c.push([B(s,o)+e+n*Math.cos(l),B(s,o)+a+i*Math.sin(l)]);return c.push([B(s,o)+e+n*Math.cos(h+2*Math.PI+.5*r),B(s,o)+a+i*Math.sin(h+2*Math.PI+.5*r)]),c.push([B(s,o)+e+.98*n*Math.cos(h+r),B(s,o)+a+.98*i*Math.sin(h+r)]),c.push([B(s,o)+e+.9*n*Math.cos(h+.5*r),B(s,o)+a+.9*i*Math.sin(h+.5*r)]),F(c,null,o)}function X(t,e,a,n,i,s,r,o,h){var c=s+B(.1,h),l=[];l.push([B(o,h)+e+.9*n*Math.cos(c-t),B(o,h)+a+.9*i*Math.sin(c-t)]);for(var u=c;u<=r;u+=t)l.push([B(o,h)+e+n*Math.cos(u),B(o,h)+a+i*Math.sin(u)]);return l.push([e+n*Math.cos(r),a+i*Math.sin(r)]),l.push([e+n*Math.cos(r),a+i*Math.sin(r)]),F(l,null,h)}function H(t,e,a,n,i,s,r,o){for(var h=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.5],l=[0,0],u=0;u<2;u++)0===u?h.push({op:"move",data:[r.x,r.y]}):h.push({op:"move",data:[r.x+B(c[0],o),r.y+B(c[0],o)]}),l=[i+B(c[u],o),s+B(c[u],o)],h.push({op:"bcurveTo",data:[t+B(c[u],o),e+B(c[u],o),a+B(c[u],o),n+B(c[u],o),l[0],l[1]]});return r.setPosition(l[0],l[1]),h}function Q(t,e,a,n){var i=[];switch(e.key){case"M":case"m":var s="m"===e.key;if(e.data.length>=2){var o=+e.data[0],h=+e.data[1];s&&(o+=t.x,h+=t.y);var c=1*(n.maxRandomnessOffset||0);o+=B(c,n),h+=B(c,n),t.setPosition(o,h),i.push({op:"move",data:[o,h]})}break;case"L":case"l":var l="l"===e.key;if(e.data.length>=2){var u=+e.data[0],f=+e.data[1];l&&(u+=t.x,f+=t.y),i=i.concat($(t.x,t.y,u,f,n)),t.setPosition(u,f)}break;case"H":case"h":var p="h"===e.key;if(e.data.length){var d=+e.data[0];p&&(d+=t.x),i=i.concat($(t.x,t.y,d,t.y,n)),t.setPosition(d,t.y)}break;case"V":case"v":var v="v"===e.key;if(e.data.length){var g=+e.data[0];v&&(g+=t.y),i=i.concat($(t.x,t.y,t.x,g,n)),t.setPosition(t.x,g)}break;case"Z":case"z":t.first&&(i=i.concat($(t.x,t.y,t.first[0],t.first[1],n)),t.setPosition(t.first[0],t.first[1]),t.first=null);break;case"C":case"c":var y="c"===e.key;if(e.data.length>=6){var m=+e.data[0],b=+e.data[1],k=+e.data[2],M=+e.data[3],_=+e.data[4],w=+e.data[5];y&&(m+=t.x,k+=t.x,_+=t.x,b+=t.y,M+=t.y,w+=t.y);var x=H(m,b,k,M,_,w,t,n);i=i.concat(x),t.bezierReflectionPoint=[_+(_-k),w+(w-M)]}break;case"S":case"s":var P="s"===e.key;if(e.data.length>=4){var O=+e.data[0],S=+e.data[1],j=+e.data[2],z=+e.data[3];P&&(O+=t.x,j+=t.x,S+=t.y,z+=t.y);var C=O,A=S,L=a?a.key:"",E=null;"c"!==L&&"C"!==L&&"s"!==L&&"S"!==L||(E=t.bezierReflectionPoint),E&&(C=E[0],A=E[1]);var I=H(C,A,O,S,j,z,t,n);i=i.concat(I),t.bezierReflectionPoint=[j+(j-O),z+(z-S)]}break;case"Q":case"q":var T="q"===e.key;if(e.data.length>=4){var D=+e.data[0],W=+e.data[1],N=+e.data[2],q=+e.data[3];T&&(D+=t.x,N+=t.x,W+=t.y,q+=t.y);var R=1*(1+.2*n.roughness),U=1.5*(1+.22*n.roughness);i.push({op:"move",data:[t.x+B(R,n),t.y+B(R,n)]});var G=[N+B(R,n),q+B(R,n)];i.push({op:"qcurveTo",data:[D+B(R,n),W+B(R,n),G[0],G[1]]}),i.push({op:"move",data:[t.x+B(U,n),t.y+B(U,n)]}),G=[N+B(U,n),q+B(U,n)],i.push({op:"qcurveTo",data:[D+B(U,n),W+B(U,n),G[0],G[1]]}),t.setPosition(G[0],G[1]),t.quadReflectionPoint=[N+(N-D),q+(q-W)]}break;case"T":case"t":var F="t"===e.key;if(e.data.length>=2){var V=+e.data[0],X=+e.data[1];F&&(V+=t.x,X+=t.y);var Q=V,Z=X,J=a?a.key:"",Y=null;"q"!==J&&"Q"!==J&&"t"!==J&&"T"!==J||(Y=t.quadReflectionPoint),Y&&(Q=Y[0],Z=Y[1]);var K=1*(1+.2*n.roughness),tt=1.5*(1+.22*n.roughness);i.push({op:"move",data:[t.x+B(K,n),t.y+B(K,n)]});var et=[V+B(K,n),X+B(K,n)];i.push({op:"qcurveTo",data:[Q+B(K,n),Z+B(K,n),et[0],et[1]]}),i.push({op:"move",data:[t.x+B(tt,n),t.y+B(tt,n)]}),et=[V+B(tt,n),X+B(tt,n)],i.push({op:"qcurveTo",data:[Q+B(tt,n),Z+B(tt,n),et[0],et[1]]}),t.setPosition(et[0],et[1]),t.quadReflectionPoint=[V+(V-Q),X+(X-Z)]}break;case"A":case"a":var at="a"===e.key;if(e.data.length>=7){var nt=+e.data[0],it=+e.data[1],st=+e.data[2],rt=+e.data[3],ot=+e.data[4],ht=+e.data[5],ct=+e.data[6];if(at&&(ht+=t.x,ct+=t.y),ht===t.x&&ct===t.y)break;if(0===nt||0===it)i=i.concat($(t.x,t.y,ht,ct,n)),t.setPosition(ht,ct);else for(var lt=0;lt<1;lt++)for(var ut=new r([t.x,t.y],[ht,ct],[nt,it],st,!!rt,!!ot),ft=ut.getNextSegment();ft;){var pt=H(ft.cp1[0],ft.cp1[1],ft.cp2[0],ft.cp2[1],ft.to[0],ft.to[1],t,n);i=i.concat(pt),ft=ut.getNextSegment()}}break}return i}var Z=function(t){function e(){return Object(c["a"])(this,e),Object(A["a"])(this,Object(L["a"])(e).apply(this,arguments))}return Object(E["a"])(e,t),Object(l["a"])(e,[{key:"line",value:function(t,e,a,n,i){var s=this._options(i);return this._drawable("line",[j(t,e,a,n,s)],s)}},{key:"rectangle",value:function(t,e,a,n,i){var s=this._options(i),r=[];if(s.fill){var o=[[t,e],[t+a,e],[t+a,e+n],[t,e+n]];"solid"===s.fillStyle?r.push(N(o,s)):r.push(q(o,s))}return r.push(C(t,e,a,n,s)),this._drawable("rectangle",r,s)}},{key:"ellipse",value:function(t,e,a,n,i){var s=this._options(i),r=[];if(s.fill)if("solid"===s.fillStyle){var o=D(t,e,a,n,s);o.type="fillPath",r.push(o)}else r.push(function(t,e,a,n,i){return O(i,S).fillEllipse(t,e,a,n,i)}(t,e,a,n,s));return r.push(D(t,e,a,n,s)),this._drawable("ellipse",r,s)}},{key:"circle",value:function(t,e,a,n){var i=this.ellipse(t,e,a,a,n);return i.shape="circle",i}},{key:"linearPath",value:function(t,e){var a=this._options(e);return this._drawable("linearPath",[z(t,!1,a)],a)}},{key:"arc",value:function(t,e,a,n,i,s){var r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0,h=this._options(o),c=[];if(r&&h.fill)if("solid"===h.fillStyle){var l=W(t,e,a,n,i,s,!0,!1,h);l.type="fillPath",c.push(l)}else c.push(function(t,e,a,n,i,s,r){var o=O(r,S).fillArc(t,e,a,n,i,s,r);if(o)return o;var h=t,c=e,l=Math.abs(a/2),u=Math.abs(n/2);l+=B(.01*l,r),u+=B(.01*u,r);for(var f=i,p=s;f<0;)f+=2*Math.PI,p+=2*Math.PI;p-f>2*Math.PI&&(f=0,p=2*Math.PI);for(var d=(p-f)/r.curveStepCount,v=[],g=f;g<=p;g+=d)v.push([h+l*Math.cos(g),c+u*Math.sin(g)]);return v.push([h+l*Math.cos(p),c+u*Math.sin(p)]),v.push([h,c]),q(v,r)}(t,e,a,n,i,s,h));return c.push(W(t,e,a,n,i,s,r,!0,h)),this._drawable("arc",c,h)}},{key:"curve",value:function(t,e){var a=this._options(e);return this._drawable("curve",[T(t,a)],a)}},{key:"polygon",value:function(t,e){var a=this._options(e),n=[];if(a.fill)if("solid"===a.fillStyle)n.push(N(t,a));else{var i=this.computePolygonSize(t),s=q([[0,0],[i[0],0],[i[0],i[1]],[0,i[1]]],a);s.type="path2Dpattern",s.size=i,s.path=this.polygonPath(t),n.push(s)}return n.push(z(t,!0,a)),this._drawable("polygon",n,a)}},{key:"path",value:function(t,e){var a=this._options(e),n=[];if(!t)return this._drawable("path",n,a);if(a.fill)if("solid"===a.fillStyle){var i={type:"path2Dfill",path:t,ops:[]};n.push(i)}else{var r=this.computePathSize(t),h=q([[0,0],[r[0],0],[r[0],r[1]],[0,r[1]]],a);h.type="path2Dpattern",h.size=r,h.path=t,n.push(h)}return n.push(function(t,e){t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var a=new s(t);if(e.simplification){var n=new o(a.linearPoints,a.closed).fit(e.simplification);a=new s(n)}for(var i=[],r=a.segments||[],h=0;h<r.length;h++){var c=Q(a,r[h],h>0?r[h-1]:null,e);c&&c.length&&(i=i.concat(c))}return{type:"path",ops:i}}(t,a)),this._drawable("path",n,a)}}]),e}(e),J="undefined"!=typeof document,Y=function(){function t(e){Object(c["a"])(this,t),this.canvas=e,this.ctx=this.canvas.getContext("2d")}return Object(l["a"])(t,[{key:"draw",value:function(t){var e=t.sets||[],a=t.options||this.getDefaultOptions(),n=this.ctx,i=!0,s=!1,r=void 0;try{for(var o,h=e[Symbol.iterator]();!(i=(o=h.next()).done);i=!0){var c=o.value;switch(c.type){case"path":n.save(),n.strokeStyle=a.stroke,n.lineWidth=a.strokeWidth,this._drawToContext(n,c),n.restore();break;case"fillPath":n.save(),n.fillStyle=a.fill||"",this._drawToContext(n,c),n.restore();break;case"fillSketch":this.fillSketch(n,c,a);break;case"path2Dfill":this.ctx.save(),this.ctx.fillStyle=a.fill||"";var l=new Path2D(c.path);this.ctx.fill(l),this.ctx.restore();break;case"path2Dpattern":var u=this.canvas.ownerDocument||J&&document;if(u){var f=c.size,p=u.createElement("canvas"),d=p.getContext("2d"),v=this.computeBBox(c.path);v&&(v.width||v.height)?(p.width=this.canvas.width,p.height=this.canvas.height,d.translate(v.x||0,v.y||0)):(p.width=f[0],p.height=f[1]),this.fillSketch(d,c,a),this.ctx.save(),this.ctx.fillStyle=this.ctx.createPattern(p,"repeat");var g=new Path2D(c.path);this.ctx.fill(g),this.ctx.restore()}else console.error("Cannot render path2Dpattern. No defs/document defined.");break}}}catch(y){s=!0,r=y}finally{try{i||null==h.return||h.return()}finally{if(s)throw r}}}},{key:"computeBBox",value:function(t){if(J)try{var e="http://www.w3.org/2000/svg",a=document.createElementNS(e,"svg");a.setAttribute("width","0"),a.setAttribute("height","0");var n=self.document.createElementNS(e,"path");n.setAttribute("d",t),a.appendChild(n),document.body.appendChild(a);var i=n.getBBox();return document.body.removeChild(a),i}catch(t){}return null}},{key:"fillSketch",value:function(t,e,a){var n=a.fillWeight;n<0&&(n=a.strokeWidth/2),t.save(),t.strokeStyle=a.fill||"",t.lineWidth=n,this._drawToContext(t,e),t.restore()}},{key:"_drawToContext",value:function(t,e){t.beginPath();var a=!0,n=!1,i=void 0;try{for(var s,r=e.ops[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var o=s.value,h=o.data;switch(o.op){case"move":t.moveTo(h[0],h[1]);break;case"bcurveTo":t.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5]);break;case"qcurveTo":t.quadraticCurveTo(h[0],h[1],h[2],h[3]);break;case"lineTo":t.lineTo(h[0],h[1])}}}catch(c){n=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(n)throw i}}"fillPath"===e.type?t.fill():t.stroke()}}]),t}(),K=function(t){function e(t,a){var n;return Object(c["a"])(this,e),n=Object(A["a"])(this,Object(L["a"])(e).call(this,t)),n.gen=new Z(a||null,n.canvas),n}return Object(E["a"])(e,t),Object(l["a"])(e,[{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"line",value:function(t,e,a,n,i){var s=this.gen.line(t,e,a,n,i);return this.draw(s),s}},{key:"rectangle",value:function(t,e,a,n,i){var s=this.gen.rectangle(t,e,a,n,i);return this.draw(s),s}},{key:"ellipse",value:function(t,e,a,n,i){var s=this.gen.ellipse(t,e,a,n,i);return this.draw(s),s}},{key:"circle",value:function(t,e,a,n){var i=this.gen.circle(t,e,a,n);return this.draw(i),i}},{key:"linearPath",value:function(t,e){var a=this.gen.linearPath(t,e);return this.draw(a),a}},{key:"polygon",value:function(t,e){var a=this.gen.polygon(t,e);return this.draw(a),a}},{key:"arc",value:function(t,e,a,n,i,s){var r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0,h=this.gen.arc(t,e,a,n,i,s,r,o);return this.draw(h),h}},{key:"curve",value:function(t,e){var a=this.gen.curve(t,e);return this.draw(a),a}},{key:"path",value:function(t,e){var a=this.gen.path(t,e);return this.draw(a),a}},{key:"generator",get:function(){return this.gen}}]),e}(Y),tt="undefined"!=typeof document,et=function(){function t(e){Object(c["a"])(this,t),this.svg=e}return Object(l["a"])(t,[{key:"draw",value:function(t){var e=t.sets||[],a=t.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,i=n.createElementNS("http://www.w3.org/2000/svg","g"),s=!0,r=!1,o=void 0;try{for(var h,c=e[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var l=h.value,u=null;switch(l.type){case"path":(u=n.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",this.opsToPath(l)),u.style.stroke=a.stroke,u.style.strokeWidth=a.strokeWidth+"",u.style.fill="none";break;case"fillPath":(u=n.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",this.opsToPath(l)),u.style.stroke="none",u.style.strokeWidth="0",u.style.fill=a.fill||null;break;case"fillSketch":u=this.fillSketch(n,l,a);break;case"path2Dfill":(u=n.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",l.path||""),u.style.stroke="none",u.style.strokeWidth="0",u.style.fill=a.fill||null;break;case"path2Dpattern":if(this.defs){var f=l.size,p=n.createElementNS("http://www.w3.org/2000/svg","pattern"),d="rough-".concat(Math.floor(Math.random()*(Number.MAX_SAFE_INTEGER||999999)));p.setAttribute("id",d),p.setAttribute("x","0"),p.setAttribute("y","0"),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("height","1"),p.setAttribute("viewBox","0 0 ".concat(Math.round(f[0])," ").concat(Math.round(f[1]))),p.setAttribute("patternUnits","objectBoundingBox");var v=this.fillSketch(n,l,a);p.appendChild(v),this.defs.appendChild(p),(u=n.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",l.path||""),u.style.stroke="none",u.style.strokeWidth="0",u.style.fill="url(#".concat(d,")")}else console.error("Cannot render path2Dpattern. No defs/document defined.")}u&&i.appendChild(u)}}catch(g){r=!0,o=g}finally{try{s||null==c.return||c.return()}finally{if(r)throw o}}return i}},{key:"fillSketch",value:function(t,e,a){var n=a.fillWeight;n<0&&(n=a.strokeWidth/2);var i=t.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",this.opsToPath(e)),i.style.stroke=a.fill||null,i.style.strokeWidth=n+"",i.style.fill="none",i}},{key:"defs",get:function(){var t=this.svg.ownerDocument||tt&&document;if(t&&!this._defs){var e=t.createElementNS("http://www.w3.org/2000/svg","defs");this.svg.firstChild?this.svg.insertBefore(e,this.svg.firstChild):this.svg.appendChild(e),this._defs=e}return this._defs||null}}]),t}(),at=function(t){function e(t,a){var n;return Object(c["a"])(this,e),n=Object(A["a"])(this,Object(L["a"])(e).call(this,t)),n.gen=new Z(a||null,n.svg),n}return Object(E["a"])(e,t),Object(l["a"])(e,[{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"opsToPath",value:function(t){return this.gen.opsToPath(t)}},{key:"line",value:function(t,e,a,n,i){var s=this.gen.line(t,e,a,n,i);return this.draw(s)}},{key:"rectangle",value:function(t,e,a,n,i){var s=this.gen.rectangle(t,e,a,n,i);return this.draw(s)}},{key:"ellipse",value:function(t,e,a,n,i){var s=this.gen.ellipse(t,e,a,n,i);return this.draw(s)}},{key:"circle",value:function(t,e,a,n){var i=this.gen.circle(t,e,a,n);return this.draw(i)}},{key:"linearPath",value:function(t,e){var a=this.gen.linearPath(t,e);return this.draw(a)}},{key:"polygon",value:function(t,e){var a=this.gen.polygon(t,e);return this.draw(a)}},{key:"arc",value:function(t,e,a,n,i,s){var r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0,h=this.gen.arc(t,e,a,n,i,s,r,o);return this.draw(h)}},{key:"curve",value:function(t,e){var a=this.gen.curve(t,e);return this.draw(a)}},{key:"path",value:function(t,e){var a=this.gen.path(t,e);return this.draw(a)}},{key:"generator",get:function(){return this.gen}}]),e}(et);return{canvas:function(t,e){return new K(t,e)},svg:function(t,e){return new at(t,e)},generator:function(t,e){return new Z(t,e)}}}(),D=T;function W(t){var e=document.getElementById(t);e.width=350,e.height=500;var a=e.getContext("2d");a.translate(25,200);var n=D.canvas(document.getElementById(t));n.rectangle(5,5,300,200,{strokeWidth:5,fill:"#17120794",fillStyle:"solid"}),n.line(5,205,105,105),n.rectangle(45,-15,40,20,{fill:"#17120794"}),n.rectangle(230,-15,24,20,{fill:"#17120794"}),n.rectangle(150,30,130,80),n.rectangle(30,207,20,10,{strokeWidth:10}),n.rectangle(230,207,20,10,{strokeWidth:10})}function N(){v=document.querySelector("audio"),v.crossOrigin="anonymous",g=new AudioContext,y=g.createAnalyser(),m=g.createMediaElementSource(v),m.connect(y),y.connect(g.destination),y.fftSize=32,b=y.frequencyBinCount,k=new Uint8Array(b);var t=document.getElementById("canvas");t.width=350,t.height=500,w=t.getContext("2d"),w.translate(25,200),_=D.canvas(document.getElementById("canvas")),_.rectangle(5,5,300,200,{strokeWidth:5}),_.rectangle(150,30,130,80),_.rectangle(30,207,20,10,{strokeWidth:10}),_.rectangle(230,207,20,10,{strokeWidth:10}),_.circle(70,100,100,{fill:"black",fillStyle:"cross-hatch"}),W("canvas-shadow")}function q(){w.clearRect(150,30,130,80);for(var t=130/b,e=0;e<b;e++){var a=150+e*t,n=k[e]/255*80/2,i=110-n;_.rectangle(a,i,t,n,{fill:"green"})}}function R(){M=requestAnimationFrame(R),y.getByteFrequencyData(k),q()}function B(){return g}function $(){return M}var U,G,F={initAudio:N,rockMusic:R,getAudioCtx:B,getFrameID:$},V={name:"HandDrawPlayer",data:function(){return{currentTime:"",duration:""}},props:{song:Object,resume:Boolean,loadingSong:Boolean},methods:{onPlay:function(){var t=parseInt(this.$refs.audio.currentTime);this.currentTime="".concat(Math.floor(t/60),":").concat(t%60>9?t%60:"0"+t%60)},loadInfo:function(){this.$emit("update:loadingSong",!1);var t=parseInt(this.$refs.audio.duration);this.duration="".concat(Math.floor(t/60),":").concat(t%60>9?t%60:"0"+t%60),this.resume?this.$refs.audio.play():this.$refs.guideLine.classList.contains("hidden-guide")&&this.startPlay()},startPlay:function(){var t=this;this.$refs.guideLine.classList.add("hidden-guide"),this.resume?(this.$refs.audio.pause(),cancelAnimationFrame(F.getFrameID()),this.$emit("update:resume",!1)):F.getAudioCtx().resume().then(function(){t.$refs.audio.play(),F.rockMusic(),t.$emit("update:resume",!0)})},autoChange:function(){this.$emit("song-ended")}},mounted:function(){F.initAudio()}},X=V,H=(a("c9c4"),a("2877")),Q=Object(H["a"])(X,z,C,!1,null,"10fe2835",null),Z=Q.exports;function J(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=0;a<20;a++){var n=20*a+10,i=Math.PI/100*n,s=Math.round(20*Math.sin(i+e))+500;t.push([n,s])}}var Y=0;function K(){G.clearRect(0,0,1e3,1e3),Y++,requestAnimationFrame(K),tt.forEach(function(t){var e=Math.PI/100*(t[0]+4*Y);t[1]=Math.round(90*Math.sin(e))+500}),et.forEach(function(t){var e=Math.PI/100*(t[0]+4.2*Y);t[1]=Math.round(110*Math.sin(e+80))+500}),U.curve(tt,{stroke:"black",strokeWidth:10}),U.curve(et,{stroke:"red",strokeWidth:10})}var tt=[],et=[],at=function(t){U=D.canvas(document.getElementById(t)),G=document.getElementById(t).getContext("2d"),J(tt),J(et,50),K()},nt={name:"music",components:{HandDrawPlayer:Z},data:function(){return{songList:[{}],currentSong:{},musicFile:{},songImage:"",loading:!1,showList:!1,showUpload:!1,myMv:"",setID:"",resume:!1,songLoading:!0}},methods:{autoChange:function(){var t=this,e=this.songList.findIndex(function(e){return e.name==t.currentSong.name}),a=Math.floor(Math.random()*this.songList.length);while(e==a&&this.songList.length>1)a=Math.floor(Math.random()*this.songList.length);this.currentSong=this.songList[a],this.songLoading=!0},handlePlay:function(t){var e=this.$refs.player;e.$refs.guideLine.classList.add("hidden-guide"),this.currentSong._id==t._id?e.startPlay():this.currentSong=t},getSong:function(){var t=this;return this.loading=!0,j.getMusic().then(function(e){t.songList=e,t.loading=!1,!t.currentSong._id&&(t.currentSong=t.songList[0]),t.$toast({text:"成功获取歌曲~~",mode:"success"})}).catch(function(e){t.$toast({text:"获取歌曲失败",mode:"danger"}),t.loading=!1})},selectSong:function(){this.songFile=this.$refs.ulDom.files[0]},localPlay:function(t){var e=this;console.log("adddd");var a=t.target.files[0],n=new FileReader;t.target.files=null,n.readAsDataURL(a),n.onload=function(t){e.currentSong.songUrl=t.target.result,e.currentSong.name=a.name}},delSong:function(t){var e=this;return j.delMusic(t).then(function(){e.$toast({text:"删除成功",mode:"success"}),e.songList.filter(function(e){return e._id!==t})})},uploadSong:function(){var t=this,e=new FormData;e.append("musicFile",this.songFile),e.append("songImage",this.songImage),this.loading=!0,j.uploadMusic(e).then(function(e){t.$toast({text:e.data,mode:"success"}),t.loading=!1,t.songImage="",t.songFile="",t.showUpload=!1,t.getSong()}).catch(function(e){t.$toast({text:"上传失败"+e,mode:"danger"})})}},watch:{currentSong:function(){this.$emit("postImg",this.currentSong.songImage)}},created:function(){this.getSong()},mounted:function(){at("song-load")}},it=nt,st=(a("63be"),Object(H["a"])(it,r,o,!1,null,null,null)),rt=st.exports,ot={name:"app",data:function(){return{imgUrl:""}},components:{music:rt},methods:{changeImage:function(t){this.imgUrl=t}}},ht=ot,ct=(a("034f"),Object(H["a"])(ht,i,s,!1,null,null,null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShow?a("div",{class:["toast",t.mode]},[t._v(t._s(t.text))]):t._e()},ft=[],pt={name:"toast",data:function(){return{text:"",duration:1,isShow:!0,mode:"primary"}},mounted:function(){var t=this;setTimeout(function(){t.isShow=!1},this.duration)}},dt=pt,vt=(a("a3c1"),Object(H["a"])(dt,ut,ft,!1,null,"03c06552",null)),gt=vt.exports,yt={install:function(t){t.prototype.$toast=function(e){var a=e.text,n=e.duration,i=void 0===n?3e3:n,s=e.mode,r=void 0===s?"primary":s,o=t.extend(gt),h=new o({el:document.createElement("div"),data:function(){return{text:a,duration:i,mode:r,isShow:!0}}});document.body.appendChild(h.$el),setTimeout(function(){return h.$el.style.top="1%"})}}},mt=yt;n["a"].config.productionTip=!1,n["a"].use(mt),new n["a"]({render:function(t){return t(lt)}}).$mount("#app")},"63be":function(t,e,a){"use strict";var n=a("b259"),i=a.n(n);i.a},"64a9":function(t,e,a){},"977a":function(t,e,a){},a3c1:function(t,e,a){"use strict";var n=a("1dfc"),i=a.n(n);i.a},b259:function(t,e,a){},c9c4:function(t,e,a){"use strict";var n=a("977a"),i=a.n(n);i.a}});
//# sourceMappingURL=app.0d25be60.js.map